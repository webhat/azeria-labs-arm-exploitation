/**
  currently getting the following error on my RasPiII:
  part6-thumb.s: Assembler messages:
  part6-thumb.s:12: Error: selected processor does not support `ite eq' in Thumb mode
  part6-thumb.s:13: Error: lo register required -- `addeq r1,#2'
  part6-thumb.s:14: Error: lo register required -- `addne r1,#3'
*/
.syntax unified    @ this is important!
.text
.global _start

_start:
    .code 32
    add r3, pc, #1   @ increase value of PC by 1 and add it to R3
    bx r3            @ branch + exchange to the address in R3 -> switch to Thumb state because LSB = 1

    .code 16         @ Thumb state
    cmp r0, #10      
    ite eq           @ if R0 is equal 10...
    addeq r1, #2     @ ... then R1 = R1 + 2
    addne r1, #3     @ ... else R1 = R1 + 3
    bkpt
